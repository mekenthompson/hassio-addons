---
name: VS Code Server
version: "2.0.0"
slug: coder
description: VS Code in the browser powered by code-server v4.107.0
url: https://github.com/mekenthompson/hassio-addons
arch:
  - aarch64
  - amd64
homeassistant: "2024.1.0"
stage: stable
init: false
startup: application

# Ingress configuration
ingress: true
ingress_port: 8080
ingress_stream: true
panel_icon: mdi:microsoft-visual-studio-code
panel_title: VS Code

# Watchdog for automatic restart on failure
watchdog: http://[HOST]:[PORT:8080]/healthz

# Optional direct port access (disabled by default for security)
ports:
  8080/tcp: null
ports_description:
  8080/tcp: VS Code Server web interface (optional, ingress recommended)

# Directory mappings
map:
  - homeassistant_config:rw
  - addon_config:rw
  - ssl:ro
  - share:rw
  - addons:ro
  - backup:ro

# API access
hassio_api: true
auth_api: true

# Backup configuration - exclude large cache directories
backup_exclude:
  - "**/CachedData/*"
  - "**/CachedExtensionVSIXs/*"
  - "**/logs/*"

# Default configuration
options:
  password: ""
  default_workspace: /homeassistant
  init_commands: []
  log_level: info

# Configuration schema
schema:
  password: str?
  default_workspace: str?
  init_commands:
    - str
  log_level: list(trace|debug|info|warning|error|fatal)?
